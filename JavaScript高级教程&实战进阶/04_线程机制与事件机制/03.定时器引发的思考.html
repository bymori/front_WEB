<!--
 * @Descripttion: 
 * @version: 
 * @Author: by_mori
 * @Date: 2021-09-20 22:00:33
 * @LastEditors: by_mori
 * @LastEditTime: 2021-09-20 22:11:27
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>定时器引发的思考</title>
    <!-- 
          1.定时器真是定时执行的吗?
            定时器并不能保证真正定时执行
            一般会延迟一丁点(可以接受), 也有可能延迟很长时间(不能接受)
          2.定时器回调函数是在分线程执行的吗?
            在主线程执行的, JS是单线程的
          3.定时器是如何实现的?
            事件循环模型,在下方给出详解
     -->
    <script>
      window.onload = function () {
        document.getElementById('btn').onclick = function () {
          var start = Date.now();
          console.log('定时器启动前...');
          setTimeout(() => {
            console.log('定时器启动了:', Date.now() - start); //定时器并不能保证真正定时执行,一般会延迟一丁点
          }, 200);
          console.log('定时器启动后...');

          // 做一个长时间的工作
          for (var i = 0; i < 100000000; i++) {
            //会造成定时器延长很长时间
          }
        };
      };
    </script>
  </head>
  <body>
    <button id="btn">启动定时器</button>
  </body>
</html>
