<!--
 * @Descripttion: 
 * @version: 
 * @Author: by_mori
 * @Date: 2021-09-15 18:43:34
 * @LastEditors: by_mori
 * @LastEditTime: 2021-09-15 19:11:51
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>函数作用域</title>
    <script>
      /*  函数作用域
       *    调用函数时创建函数作用域，函数执行完毕以后，函数作用域销毁
       *    每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的
       *    在函数作用域中可以访问到全局作用域的变量
       *      在全局作用域中无法访问到函数作用域的变量
       *    当在函数作用域操作一个变量时，它会先在自身作用域中寻找，如果有就直接使用
       *      如果没有则向上一级作用域中寻找 直到找到全局作用域，
       *      如果全局作用域中依然没有找到，则会报错 ReferenceError
       *    在函数中要访问全局变量可以使用 window对象
       */

      //   创建一个变量
      var a = 10;
      function fun() {
        var a = 'fun函数中的a';
        var b = 20;

        // console.log('a' + a);
        function fun2() {
          console.log('a' + window.a);
        }
        fun2();
      }
      //   fun();
      // console.log('b' + b);

      /*
       *  在函数作用域也有声明提前的特性，
       *    使用var关键字声明的变量，会在函数中所有的代码执行之前被声明
       *    函数声明也会在函数中所有的代码执行之前执行
       */
      function fun3() {
        fun4();
        // var a;
        // console.log(a);
        var a = 30;
        function fun4() {
          console.log('这里是 fun4');
        }
      }
      //   fun3();

      var c = 33;

      //   在函数中，不使用 var声明 的变量都会成为全局变量
      function fun5() {
        console.log('c= ' + c);
        // var c = 10;//undefined
        // c = 10;

        //d没有使用Var关键字，则会设置为全局变量
        // d = 100; //等同于 window.d = 100;
        window.d = 100;
      }
      //   fun5();

      //   在全局输出c
      //   console.log('c= ' + c);
      //   console.log('d= ' + d);

      var e = 23;

      //定义形参就相当于在函数作用域中声明了变量
      function fun6(e) {
        var e;
        console.log(e);
      }
      fun6(66);
    </script>
  </head>
  <body></body>
</html>
